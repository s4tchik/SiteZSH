<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Настройки — ZSH</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet" />
  <style>
    /* Reset */
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0; padding: 0; min-height: 100%;
      font-family: 'Orbitron', sans-serif;
      background: #0a0a0a;
      color: #eee;
      display: flex;
      flex-direction: column;
      user-select: none;
    }
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(10,10,10,0.85);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 0 15px #7f5af0bb;
      z-index: 10;
      user-select: none;
    }
    header div strong {
      color: #7f5af0;
      font-size: 1.6rem;
      text-shadow: 0 0 20px #7f5af0;
    }
    nav a {
      color: #eee;
      margin-left: 1.4rem;
      text-decoration: none;
      font-weight: 600;
      position: relative;
      transition: color 0.3s ease;
      user-select: none;
    }
    nav a:first-child {
      margin-left: 0;
    }
    nav a:hover,
    nav a:focus {
      color: #7f5af0;
      outline: none;
    }
    nav a:hover::after {
      content: '';
      position: absolute;
      left: 0; bottom: -4px;
      width: 100%;
      height: 2px;
      background: #7f5af0;
      border-radius: 2px;
    }

    main {
      max-width: 700px;
      margin: 100px auto 60px;
      padding: 0 1rem;
      flex-grow: 1;
      user-select: none;
    }

    h1 {
      color: #7f5af0;
      margin-bottom: 2rem;
      user-select: none;
    }

    section {
      background: #121212;
      padding: 20px 24px;
      border-radius: 12px;
      margin-bottom: 32px;
      box-shadow: 0 0 15px #7f5af0bb;
      transition: background-color 0.3s, box-shadow 0.3s;
      user-select: none;
    }
    section h2 {
      margin-top: 0;
      margin-bottom: 20px;
      color: #00aaff;
      border-bottom: 2px solid #7f5af0;
      padding-bottom: 6px;
      user-select: none;
    }

    label {
      display: flex;
      align-items: center;
      margin-bottom: 14px;
      cursor: pointer;
      font-weight: 600;
      color: #aad8ff;
      user-select: none;
      font-size: 1.05rem;
      transition: color 0.3s;
    }
    label:hover {
      color: #7f5af0;
    }

    input[type="checkbox"],
    input[type="radio"] {
      margin-right: 14px;
      width: 22px;
      height: 22px;
      cursor: pointer;
      accent-color: #7f5af0;
      user-select: none;
      transition: accent-color 0.3s;
    }
    input[type="checkbox"]:hover,
    input[type="radio"]:hover {
      accent-color: #a37aff;
    }

    button {
      padding: 15px 36px;
      background: #7f5af0;
      color: #0a0a0a;
      font-weight: 700;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      font-size: 1.15rem;
      transition: background-color 0.3s, box-shadow 0.3s;
      display: block;
      margin: 0 auto 40px;
      user-select: none;
      box-shadow: 0 0 18px #7f5af0cc;
    }
    button:hover,
    button:focus {
      background: #a37aff;
      outline: none;
      box-shadow: 0 0 30px #a37affdd;
    }

    .connected-services {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    .connected-services li {
      padding: 14px 0;
      border-bottom: 1px solid #7f5af0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      color: #aad8ff;
      user-select: none;
    }
    .connected-services button {
      background: #d9534f;
      font-weight: 700;
      padding: 7px 14px;
      font-size: 1rem;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
      user-select: none;
      border: none;
      box-shadow: 0 0 10px #d9534fcc;
    }
    .connected-services button:hover {
      background: #b52b27;
      box-shadow: 0 0 16px #b52b27cc;
    }

    @media (max-width: 480px) {
      main {
        margin: 90px 12px 50px;
      }
      label {
        font-size: 1rem;
      }
      button {
        width: 100%;
        padding: 14px 0;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div><strong>ZSH</strong></div>
    <nav>
      <a href="index.html">Главная</a>
      <a href="about.html">О нас</a>
      <a href="games.html">Игры</a>
      <a href="blog.html">Блог</a>
      <a href="login.html">Войти</a>
    </nav>
  </header>

  <main role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle">Настройки — ZSH</h1>

    <section aria-labelledby="notifTitle">
      <h2 id="notifTitle">Настройки уведомлений</h2>
      <label><input type="checkbox" id="notifEmailForum" /> Email: новые сообщения на форуме</label>
      <label><input type="checkbox" id="notifEmailComments" /> Email: ответы на комментарии</label>
      <label><input type="checkbox" id="notifEmailUpdates" /> Email: обновления игр</label>
      <label><input type="checkbox" id="notifPushForum" /> Push-уведомления: новые сообщения на форуме</label>
      <label><input type="checkbox" id="notifPushComments" /> Push-уведомления: ответы на комментарии</label>
      <label><input type="checkbox" id="notifPushUpdates" /> Push-уведомления: обновления игр</label>
    </section>

    <section aria-labelledby="privacyTitle">
      <h2 id="privacyTitle">Настройки приватности профиля</h2>
      <label><input type="radio" name="profilePrivacy" value="public" /> Профиль виден всем</label>
      <label><input type="radio" name="profilePrivacy" value="friends" /> Видим только для друзей</label>
      <label><input type="radio" name="profilePrivacy" value="private" /> Профиль закрыт</label>
    </section>

    <section aria-labelledby="themeTitle">
      <h2 id="themeTitle">Тема оформления</h2>
      <label><input type="radio" name="theme" value="light" /> Светлая</label>
      <label><input type="radio" name="theme" value="dark" /> Тёмная</label>
    </section>

    <section aria-labelledby="servicesTitle">
      <h2 id="servicesTitle">Подключённые сервисы</h2>
      <ul class="connected-services" id="servicesList">
        <li>
          Google аккаунт
          <button data-service="google" aria-label="Отключить Google аккаунт">Отключить</button>
        </li>
        <li>
          Twitch аккаунт
          <button data-service="twitch" aria-label="Отключить Twitch аккаунт">Отключить</button>
        </li>
        <li>
          Discord аккаунт
          <button data-service="discord" aria-label="Отключить Discord аккаунт">Отключить</button>
        </li>
      </ul>
    </section>

    <button id="saveSettingsBtn" aria-label="Сохранить настройки">Сохранить настройки</button>
  </main>

  <script>
    // Загрузка настроек из localStorage
    function loadSettings() {
      const settings = JSON.parse(localStorage.getItem('zshUserSettings')) || {};

      // Уведомления
      document.getElementById('notifEmailForum').checked = settings.notifEmailForum || false;
      document.getElementById('notifEmailComments').checked = settings.notifEmailComments || false;
      document.getElementById('notifEmailUpdates').checked = settings.notifEmailUpdates || false;
      document.getElementById('notifPushForum').checked = settings.notifPushForum || false;
      document.getElementById('notifPushComments').checked = settings.notifPushComments || false;
      document.getElementById('notifPushUpdates').checked = settings.notifPushUpdates || false;

      // Приватность
      if(settings.profilePrivacy){
        const privacyRadios = document.getElementsByName('profilePrivacy');
        for(const radio of privacyRadios) {
          radio.checked = radio.value === settings.profilePrivacy;
        }
      }

      // Тема
      if(settings.theme){
        const themeRadios = document.getElementsByName('theme');
        for(const radio of themeRadios) {
          radio.checked = radio.value === settings.theme;
        }
        applyTheme(settings.theme);
      }
    }

    // Сохранение настроек в localStorage
    function saveSettings() {
      const settings = {
        notifEmailForum: document.getElementById('notifEmailForum').checked,
        notifEmailComments: document.getElementById('notifEmailComments').checked,
        notifEmailUpdates: document.getElementById('notifEmailUpdates').checked,
        notifPushForum: document.getElementById('notifPushForum').checked,
        notifPushComments: document.getElementById('notifPushComments').checked,
        notifPushUpdates: document.getElementById('notifPushUpdates').checked,
        profilePrivacy: document.querySelector('input[name="profilePrivacy"]:checked')?.value || null,
        theme: document.querySelector('input[name="theme"]:checked')?.value || null
      };
      localStorage.setItem('zshUserSettings', JSON.stringify(settings));
      alert('Настройки сохранены!');
    }

    // Применение темы оформления
    function applyTheme(theme) {
      if(theme === 'dark'){
        document.body.style.backgroundColor = '#0a0a0a';
        document.body.style.color = '#eee';
      } else {
        document.body.style.backgroundColor = '#f5f5f5';
        document.body.style.color = '#222';
      }
    }

    // Кнопка сохранить
    document.getElementById('saveSettingsBtn').addEventListener('click', () => {
      saveSettings();
    });

    // Реакция на смену темы сразу
    const themeRadios = document.querySelectorAll('input[name="theme"]');
    themeRadios.forEach(radio => {
      radio.addEventListener('change', e => {
        applyTheme(e.target.value);
      });
    });

    // Отключение сервисов (только UI)
    const servicesList = document.getElementById('servicesList');
    servicesList.addEventListener('click', e => {
      if(e.target.tagName === 'BUTTON'){
        const service = e.target.dataset.service;
        if(confirm(`Вы действительно хотите отключить ${service} аккаунт?`)){
          // Тут может быть реальная логика отключения с сервера
          e.target.parentElement.remove();
          alert(`${service} аккаунт отключён.`);
        }
      }
    });

    // Инициализация
    loadSettings();
  </script>
</body>
</html>
